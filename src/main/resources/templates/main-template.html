<div th:fragment="loading" class="preloader flex-column justify-content-center align-items-center"
     xmlns:sec="http://www.w3.org/1999/xhtml"
     xmlns="http://www.w3.org/1999/xhtml"
     xmlns:th="http://www.thymeleaf.org">
    <img class="animation__wobble" th:src="@{/images/logo.png}" alt="AdminLTELogo" height="60" width="60">
  </div>
  <!-- Navbar -->
  <nav th:fragment="header" class="main-header navbar navbar-expand navbar-white navbar-light align-items-center">
    <!-- Left navbar links -->
    <ul class="navbar-nav align-items-center">
      <li class="nav-item">
        <a class="nav-link" data-widget="pushmenu" href="#" role="button"><i class="fas fa-bars"></i></a>
      </li>
      <li class="nav-item d-none d-sm-inline-block">
        <a href="#" class="nav-link" th:text="#{adminPanel}">Панель администратора</a>
      </li>
    </ul>
    <!-- Right navbar links -->
    <aside class="navbar-nav ml-auto align-items-center" >
      <div class="my-lang mr-2">
        <svg th:if="${#locale.language == 'uk'}" style="width:20px" xmlns="http://www.w3.org/2000/svg" enable-background="new 0 0 30 20" viewBox="0 0 30 20" id="ukraine-flag"><rect width="30" height="20"></rect><rect width="28" height="9" x="1" y="1" fill="#005bbb"></rect><rect width="28" height="9" x="1" y="10" fill="#ffd500"></rect></svg>
        <svg th:if="${#locale.language == 'ru'}" style="width:20px" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 47.5 47.5" id="pig"><defs><clipPath id="a"><path d="M0 38h38V0H0v38Z"></path></clipPath></defs><g clip-path="url(#a)" transform="matrix(1.25 0 0 -1.25 0 47.5)"><path fill="#f4abba" d="M35.193 23.67a6.01 6.01 0 0 1 1.02 1.28c1.685 2.853.269 10.292-.592 10.8-.696.411-5.53-1.05-8.246-3.132-2.499 1.497-5.344 2.381-8.375 2.381-3.022 0-5.856-.879-8.349-2.367-2.721 2.075-7.533 3.528-8.227 3.118-.861-.508-2.276-7.947-.592-10.8.278-.471.615-.884.989-1.249C1.665 21.149 1 18.359 1 15.521 1 5.531 9.01 2.999 19 2.999c9.989 0 18 2.532 18 12.522 0 2.827-.661 5.606-1.807 8.149"></path><path fill="#ea596e" d="M8.398 31.035c-2.166 1.268-4.402 2.08-4.8 1.845-.57-.336-1.083-4.998-.351-8.264a20.366 20.366 0 0 0 5.151 6.419M34.753 24.616c.732 3.267.219 7.928-.351 8.265-.398.235-2.634-.578-4.8-1.846a20.316 20.316 0 0 0 5.151-6.419M29 13.875C29 9.388 25.903 4.5 19 4.5c-6.904 0-10 4.888-10 9.375S12.096 19.5 19 19.5c6.903 0 10-1.138 10-5.625"></path><path fill="#662113" d="M16 12.4c0-1.857-.34-2.4-1.5-2.4s-1.5.543-1.5 2.4c0 1.856.34 2.399 1.5 2.399S16 14.256 16 12.4M25 12.4c0-1.857-.34-2.4-1.5-2.4s-1.5.543-1.5 2.4c0 1.856.34 2.399 1.5 2.399S25 14.256 25 12.4"></path><path fill="#292f33" d="M10 20a2 2 0 1 0-4.001.001A2 2 0 0 0 10 20M32 20a2 2 0 1 0-4.001.001A2 2 0 0 0 32 20"></path></g></svg>
        <span th:if="${#locale.language == 'uk'}" id="selectedLanguage">UA</span>
        <span th:if="${#locale.language == 'ru'}" id="selectedLanguage">RU</span>
        <div class="language-list">
          <div class="lang-item">
            <svg style="width:20px" xmlns="http://www.w3.org/2000/svg" enable-background="new 0 0 30 20" viewBox="0 0 30 20" id="ukraine-flag"><rect width="30" height="20"></rect><rect width="28" height="9" x="1" y="1" fill="#005bbb"></rect><rect width="28" height="9" x="1" y="10" fill="#ffd500"></rect></svg>
            <span id="uk_UA">UA</span>
          </div>
          <div class="lang-item">
            <svg style="width:20px" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 47.5 47.5" id="pig"><defs><clipPath id="a"><path d="M0 38h38V0H0v38Z"></path></clipPath></defs><g clip-path="url(#a)" transform="matrix(1.25 0 0 -1.25 0 47.5)"><path fill="#f4abba" d="M35.193 23.67a6.01 6.01 0 0 1 1.02 1.28c1.685 2.853.269 10.292-.592 10.8-.696.411-5.53-1.05-8.246-3.132-2.499 1.497-5.344 2.381-8.375 2.381-3.022 0-5.856-.879-8.349-2.367-2.721 2.075-7.533 3.528-8.227 3.118-.861-.508-2.276-7.947-.592-10.8.278-.471.615-.884.989-1.249C1.665 21.149 1 18.359 1 15.521 1 5.531 9.01 2.999 19 2.999c9.989 0 18 2.532 18 12.522 0 2.827-.661 5.606-1.807 8.149"></path><path fill="#ea596e" d="M8.398 31.035c-2.166 1.268-4.402 2.08-4.8 1.845-.57-.336-1.083-4.998-.351-8.264a20.366 20.366 0 0 0 5.151 6.419M34.753 24.616c.732 3.267.219 7.928-.351 8.265-.398.235-2.634-.578-4.8-1.846a20.316 20.316 0 0 0 5.151-6.419M29 13.875C29 9.388 25.903 4.5 19 4.5c-6.904 0-10 4.888-10 9.375S12.096 19.5 19 19.5c6.903 0 10-1.138 10-5.625"></path><path fill="#662113" d="M16 12.4c0-1.857-.34-2.4-1.5-2.4s-1.5.543-1.5 2.4c0 1.856.34 2.399 1.5 2.399S16 14.256 16 12.4M25 12.4c0-1.857-.34-2.4-1.5-2.4s-1.5.543-1.5 2.4c0 1.856.34 2.399 1.5 2.399S25 14.256 25 12.4"></path><path fill="#292f33" d="M10 20a2 2 0 1 0-4.001.001A2 2 0 0 0 10 20M32 20a2 2 0 1 0-4.001.001A2 2 0 0 0 32 20"></path></g></svg>
            <span id="ru_UA">RU</span>
          </div>
        </div>
      </div>
      <li class="dropdown user user-menu">
        <a href="#" class="dropdown-toggle" data-toggle="dropdown" aria-expanded="false">
          <i class="fa fa-user-circle text-purple"></i>
<!--          <span class="hidden-xs" style="color:grey;" th:text="${auth_admin.first_name} + ' ' + ${auth_admin.last_name}"></span>-->
          <span class="hidden-xs" style="color:grey;" th:text="${auth_admin.getFullName()}">TEST PROFILE</span>
        </a>
        <ul class="dropdown-menu">
          <li class="user-header"
              style="background-color: rgba(255,0,0,0.4); display:flex; flex-direction:column;
              justify-content:center;align-items:center;">
            <img th:src="@{/images/placeholder.jpg}" class="img-circle" alt="User Image">
            <p style="margin: 0">
              <b th:text="${auth_admin.getFullName()}"></b>
<!--              <b>TEST PROFILE</b>-->
            </p>
          </li>
          <li class="user-footer">
            <div class="pull-left" style="float: left;">
              <a th:href="@{/admin/admins/update/{id}(id=${auth_admin.id})}" class="btn btn-warning">Профиль</a>
<!--              <a href="#" class="btn btn-warning">Профиль</a>-->
            </div>
            <div >
              <a th:href="@{/admin/logout}" class="btn btn-danger" th:text="#{exit}">Выйти</a>
            </div>
          </li>
        </ul>
      </li>
    </aside>
    <style>
      nav a {
        text-decoration: none;
      }

      .my-lang {
        display: flex;
        align-items: center;
        justify-content:center;
        column-gap: 5px;
        cursor: pointer;
        border: 1px solid silver;
        border-radius:5px;
        padding: 3px;
        position: relative;
        width:60px;
      }

      .language-list {
        display:none;
        position:absolute;
        top:100%;
        left:0px;
        width:58px;
        border:1px solid silver;
        border-top:1.2px solid black;
        background-color:white;
      }

      .lang-item {
        padding:3px;
        display: flex;
        align-items: center;
        justify-content:center;
        column-gap: 5px;
        width:58px;
      }

      .lang-item:hover {
        font-weight:bold;
        background-color: lightgray;
      }

      .my-lang:hover {
        border:1.2px solid black;
      }

      .my-lang:hover #selectedLanguage {
        font-weight:bold;
      }

      .my-lang:hover .language-list, .language-list:hover .language-list {
        display:block;
      }

      #selectedLanguage {
        font-family: Recursive;
        font-size:16px;
      }
    </style>
  </nav>
  <!-- /.navbar -->


  <!-- Main Sidebar Container -->
  <aside th:fragment="sidebar"
         class="main-sidebar sidebar-light-primary"
         style="color: #444444; font-weight: 600; box-shadow: none;" >

    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@300;500&family=Recursive:wght@300;500&display=swap" rel="stylesheet">

    <!-- Brand Logo -->
    <a th:href="@{/}" class="brand-link" style="margin-bottom: 20px; padding: 3px; border-right: 1px solid #dee2e6;">
      <img th:src="@{/images/namelogo.png}" alt="AdminLTE Logo"
           class="img"
           style="opacity: .8; width:75%; display: block; margin:auto;">
      <span class="brand-text font-weight-light"></span>
    </a>
    <!-- Sidebar -->
    <form action="">
      <div class="sidebar">
        <!-- Sidebar Menu -->
        <nav style="margin-top: 10px;">
          <ul class="nav nav-pills nav-sidebar flex-column" data-widget="treeview" role="menu" data-accordion="false">
            <!-- Add icons to the links using the .nav-icon class
                 with font-awesome or any other icon font library -->
            <li class="nav-item" sec:authorize="hasAuthority('statistics.read')">
              <a th:href="@{/admin/statistics/}" class="nav-link">
                <i class="fa-solid fa-chart-line" ></i>
                <p class="pl-1" th:text="#{statistics}">
                </p>
              </a>
            </li>
            <li class="nav-item" sec:authorize="hasAuthority('cashbox.read')">
              <a th:href="@{/admin/cashbox/}"class="nav-link">
                <i class="fa fa-usd" aria-hidden="true" style="width:16px"></i>
                <p class="pl-1" th:text="#{cashBox}">
                </p>
              </a>
            </li>
            <li class="nav-item" sec:authorize="hasAuthority('invoices.read')">
              <a th:href="@{/admin/invoices}" class="nav-link">
                <i class="fa fa-files-o" aria-hidden="true"></i>
                <p class="pl-1" th:text="#{invoices}">
                </p>
              </a>
            </li>
            <li class="nav-item" sec:authorize="hasAuthority('accounts.read')">
              <a th:href="@{/admin/accounts}" class="nav-link">
                <i class="fa fa-credit-card" aria-hidden="true"></i>
                <p class="pl-1" th:text="#{apartAccount}">
                </p>
              </a>
            </li>
            <li class="nav-item" sec:authorize="hasAuthority('apartments.read')">
              <a th:href="@{/admin/apartments/}" class="nav-link">
                <i class="fa fa-key" aria-hidden="true"></i>
                <p class="pl-1" th:text="#{apartments}">
                </p>
              </a>
            </li>
            <li class="nav-item" sec:authorize="hasAuthority('owners.read')">
              <a th:href="@{/admin/owners/}" class="nav-link">
                <i class="fa fa-users" aria-hidden="true" style="font-size: 14px"></i>
                <p class="pl-1" th:text="#{apartmentsOwners}">
                </p>
              </a>
            </li>
            <li class="nav-item" sec:authorize="hasAuthority('buildings.read')">
              <a th:href="@{/admin/buildings/}" class="nav-link">
                <i class="fa fa-building" aria-hidden="true" style="width:16px"></i>
                <p class="pl-1" th:text="#{buildings}">
                </p>
              </a>
            </li>
            <li class="nav-item" sec:authorize="hasAuthority('messages.read')">
              <a th:href="@{/admin/messages/}" class="nav-link">
                <i class="fa fa-envelope-o" aria-hidden="true"></i>
                <p class="pl-1" th:text="#{messages}">
                </p>
              </a>
            </li>
            <li class="nav-item" sec:authorize="hasAuthority('requests.read')">
              <a th:href="@{/admin/requests}" class="nav-link">
                <i class="fa fa-wrench" aria-hidden="true"></i>
                <p class="pl-1" th:text="#{repairRequest}">
                </p>
              </a>
            </li>
            <li class="nav-item" sec:authorize="hasAuthority('meters.read')">
              <a th:href="@{/admin/meters}" class="nav-link">
                <i class="fa fa-tachometer" aria-hidden="true"></i>
                <p class="pl-1" th:text="#{metersData}">
                </p>
              </a>
            </li>
            <li class="nav-item" sec:authorize="hasAuthority('website_settings.read')">
              <a href="#" class="nav-link">
                <i class="fa fa-desktop" aria-hidden="true"></i>
                <p class="pl-1" th:text="#{siteManagment}">
                  <i class="fas fa-angle-left right"></i>
                </p>
              </a>
              <ul class="nav nav-treeview" style="font-weight: 400">
                <li class="nav-item dropdown-items" >
                  <a th:href="@{/admin/website/home}" class="nav-link dropdown-links" style="margin:0">
                    <i style="font-size: 12px;" class="far fa-circle fa-sm nav-icon"></i>
                    <p th:text="#{mainPage}"></p>
                  </a>
                </li>
                <li class="nav-item dropdown-items" >
                  <a th:href="@{/admin/website/about}" class="nav-link dropdown-links" style="margin:0">
                    <i style="font-size: 12px;" class="far fa-circle fa-sm nav-icon"></i>
                    <p th:text="#{aboutUs}"></p>
                  </a>
                </li>
                <li class="nav-item dropdown-items" >
                  <a th:href="@{/admin/website/services}" class="nav-link dropdown-links" style="margin:0">
                    <i style="font-size: 12px;" class="far fa-circle fa-sm nav-icon"></i>
                    <p th:text="#{services}"></p>
                  </a>
                </li>
                <li class="nav-item dropdown-items" >
                  <a th:href="@{/admin/website/contacts}" class="nav-link dropdown-links" style="margin:0">
                    <i style="font-size: 12px;" class="far fa-circle fa-sm nav-icon"></i>
                    <p th:text="#{contacts}"></p>
                  </a>
                </li>
              </ul>
            </li>
            <li class="nav-item" sec:authorize="hasAnyAuthority('services.read','tariffs.read','users.read',
            'roles.read','payment_details.read','transaction_items.read')">
              <a href="#" class="nav-link">
                <i class="fa fa-cogs" aria-hidden="true"></i>
                <p class="pl-1" th:text="#{systemSetup}">
                  <i class="fas fa-angle-left right"></i>
                </p>
              </a>
              <ul class="nav nav-treeview" style="font-weight: 400">
                <li class="nav-item dropdown-items" sec:authorize="hasAuthority('services.read')">
                  <a th:href="@{/admin/services}" class="nav-link dropdown-links" style="margin:0">
                    <i style="font-size: 12px;" class="fa fa-briefcase nav-icon"></i>
                    <p th:text="#{services}">Услуги</p>
                  </a>
                </li>
                <li class="nav-item dropdown-items" sec:authorize="hasAuthority('tariffs.read')" >
                  <a th:href="@{/admin/tariffs}" class="nav-link dropdown-links" style="margin:0">
                    <i style="font-size: 12px;"  class="fa fa-money nav-icon"></i>
                    <p th:text="#{tariffs}">Тарифы</p>
                  </a>
                </li>
                <li class="nav-item dropdown-items" sec:authorize="hasAuthority('users.read')">
                  <a th:href="@{/admin/admins}" class="nav-link dropdown-links" style="margin:0">
                    <i style="font-size: 12px;" class="fa fa-user-plus nav-icon"></i>
                    <p th:text="#{users}">Пользователи</p>
                  </a>
                </li>
                <li class="nav-item dropdown-items" sec:authorize="hasAuthority('roles.read')">
                  <a th:href="@{/admin/roles}" class="nav-link dropdown-links" style="margin:0">
                    <i style="font-size: 12px;" class="fa fa-users nav-icon"></i>
                    <p th:text="#{roles}">Роли</p>
                  </a>
                </li>
                <li class="nav-item dropdown-items" sec:authorize="hasAuthority('payment_details.read')">
                  <a th:href="@{/admin/payment-details}" class="nav-link dropdown-links" style="margin:0">
                    <i style="font-size: 12px;" class="fa fa-credit-card nav-icon"></i>
                    <p th:text="#{paymentDetails}">Платежные реквизиты</p>
                  </a>
                </li>
                <li class="nav-item dropdown-items" sec:authorize="hasAuthority('transaction_items.read')">
                  <a th:href="@{/admin/income-expense}" class="nav-link dropdown-links" style="margin:0">
                    <i style="font-size: 12px;" class="fa fa-list-ol nav-icon"></i>
                    <p th:text="#{paymentItens}">Статьи платежей</p>
                  </a>
                </li>
              </ul>
            </li>

          </ul>
        </nav>
        <!-- /.sidebar-menu -->
      </div>
    </form>
    <script th:src="@{/plugins/jquery/jquery.min.js}"></script>

    <script>

      let myLang = $(".my-lang");
      $(".lang-item").click(function(){
        let element = $(this).find('span');
        console.log(element.attr('id'));
        $("#selectedLanguage").text(element.text());
        document.getElementsByClassName("language-list")[0].style.display='none';

        const url = "/change-language";

        $.post(url, {language:element.attr('id')}, function(data){
          console.log(data);
          location.reload();
        });
      });

    </script>
    <!-- /.sidebar -->
    <style>
      * {
        font-family: 'Source Sans Pro';
      }
    </style>
  </aside>


  <!-- Main Footer -->
  <footer th:fragment="footer" class="main-footer">
    <strong th:text="#{footerP1}">Разработано <a href="#" th:text="#{footerP2}">AVADA-MEDIA</a>.</strong>
    <strong th:text="#{footerP3}">На базе системы управления <a href="#" th:text="#{footerP4}">"МойДом24"</a>.</strong>
    <strong th:text="#{footerP5}">Документация API доступна по <a href="#" th:text="#{footerP6}">ссылке</a>.</strong>
    <div class="float-right d-none d-sm-inline-block">
      <b>Version</b> 1.0.0
    </div>
  </footer>
</div>
<!-- ./wrapper -->

